# ==============================================================================
# IMPORTANT: For production/cloud deployment, secrets are managed via
# Google Cloud Secret Manager. Run ./setup_secrets.sh to configure secrets.
# This .env file is for LOCAL DEVELOPMENT ONLY.
# ==============================================================================

# Deployment Environment
DEPLOYMENT_ENV=local  # local or cloud

# GCP Configuration
GCP_PROJECT_ID=meded-gcp-sandbox

# IMPORTANT: Use a specific region (us-central1, us-east4, europe-west4, etc.) NOT "global"
# "global" routing can cause unpredictable rate limit issues, especially with experimental models
# Choose a region where your model is available and stick with it
GCP_REGION=us-central1

GCP_CREDENTIALS_PATH=./path-to-your-service-account-key.json

# Model Configuration
# IMPORTANT: Use stable model versions (e.g., gemini-2.5-flash) NOT experimental (-exp suffix)
# Experimental models have much lower rate limits (often 2-10 RPM vs 60+ RPM for stable versions)
# This can cause RESOURCE_EXHAUSTED errors even with very low usage
MODEL_NAME=gemini-2.5-flash
# MODEL_NAME=gemini-1.5-pro
# MODEL_NAME=claude-sonnet-4-5@20250514  # When enabled

TEMPERATURE=0.7
MAX_OUTPUT_TOKENS=2048

# Conversation Settings
MAX_TURNS=10
MIN_COMPETENCY_COVERAGE=3

# Logging
LOG_TO_FILE=true
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR

# Local development
LOG_DIRECTORY=./logs

# Cloud deployment (set in Cloud Run environment)
# LOG_BUCKET=meded-feedback-bot-logs

# Firestore Database
FIRESTORE_DATABASE=(default)  # Use "(default)" for default database

# OAuth Settings (for local development)
# For cloud deployment, these are stored in Secret Manager
# Run ./setup_secrets.sh to configure them
OAUTH_CLIENT_ID=your-client-id-here.apps.googleusercontent.com
OAUTH_CLIENT_SECRET=your-client-secret-here
OAUTH_REDIRECT_URI=http://localhost:8080/auth/callback

# Domain Restriction (optional - set to false for testing)
OAUTH_DOMAIN_RESTRICTION=false
# OAUTH_ALLOWED_DOMAINS=case.edu

# JWT Secret (for local development only)
# For cloud deployment, this is auto-generated and stored in Secret Manager
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=development-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=168

# Debug Mode
DEBUG=true